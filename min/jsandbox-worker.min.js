//@source http://github.com/eligrey/jsandbox/blob/master/src/jsandbox-worker.js
(function(f,e){var c=f.postMessage,b=f.importScripts;if(typeof JSON==="undefined"){b("http://github.com/eligrey/jsandbox/raw/master/min/json2.js")}var a=JSON.stringify,g=JSON.parse,d=function(j){var i=j.data,h={toString:function(){return a(this)}};(typeof i==="string"&&(i=g(i)));h.id=i.id;c(function(){var m=i.data;f.input=i.input;try{switch(i.method){case"eval":h.results=e(m);break;case"exec":b("data:,"+encodeURIComponent(m));break;case"load":var k=m.length,l=0;for(;l<k;l++){b(m[l])}}}catch(n){h.error=n}delete f.input;delete f.onmessage;return h}())};if(f.addEventListener){f.addEventListener("message",d,false)}else{if(f.attachEvent){f.attachEvent("onmessage",d)}}f.window=f;f.addEventListener=f.removeEventListener=f.attachEvent=f.detachEvent=f.importScripts=f.XMLHttpRequest=f.postMessage=f.dispatchEvent=undefined}(self,eval));
