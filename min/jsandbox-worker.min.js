//@source http://github.com/eligrey/jsandbox/blob/master/src/jsandbox-worker.js
(function(f){var e=this,c=e.postMessage,b=e.importScripts;if(typeof JSON==="undefined"){b("http://github.com/eligrey/jsandbox/raw/master/min/json2.js")}var a=JSON.stringify,g=JSON.parse,d=function(j){var i=j.data,h={toString:function(){return a(this)}};(typeof i==="string"&&(i=g(i)));h.id=i.id;c(function(){var m=i.data;e.input=i.input;try{switch(i.method){case"eval":h.results=f(m);break;case"exec":b("data:,"+encodeURIComponent(m));break;case"load":var k=m.length,l=0;for(;l<k;l++){b(m[l])}}}catch(n){h.error=n}delete e.input;return h}())};if(e.addEventListener){e.addEventListener("message",d,false);e.addEventListener=e.removeEventListener=undefined}else{if(e.attachEvent){e.attachEvent("onmessage",d);e.attachEvent=e.detachEvent=undefined}}e.window=e;e.importScripts=e.XMLHttpRequest=e.postMessage=e.dispatchEvent=undefined}.call(this,eval));
