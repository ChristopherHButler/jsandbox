//@source http://github.com/eligrey/jsandbox/blob/master/src/jsandbox-worker.js
(function(i,f){"use strict";var e=i.postMessage,g=i.importScripts;if(typeof i.JSON==="undefined"){g("http://github.com/eligrey/jsandbox/raw/master/min/json2.js")}var h=i.JSON,c=h.stringify,b=h.parse,a=function(){return c.call(h,this)},d=function(l){var k=l.data,j={toString:a};if(typeof k==="string"){k=b.call(h,k)}j.id=k.id;var m=k.data;i.input=k.input;try{switch(k.method){case"eval":j.results=f(m);break;case"exec":g("data:application/javascript,"+encodeURIComponent(m));break;case"load":g.apply(i,m);break}}catch(n){j.error=n}delete i.input;delete i.onmessage;e(j)};if(i.addEventListener){i.addEventListener("message",d,false)}else{if(i.attachEvent){i.attachEvent("onmessage",d)}}i.window=i;i.Worker=i.addEventListener=i.removeEventListener=i.importScripts=i.XMLHttpRequest=i.postMessage=i.dispatchEvent=i.attachEvent=i.detachEvent=i.ActiveXObject=undefined}(self,eval));
