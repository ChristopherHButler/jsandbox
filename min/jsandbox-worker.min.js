//@source http://github.com/eligrey/jsandbox/blob/master/src/jsandbox-worker.js
(function(f,e){var c=f.postMessage,b=f.importScripts;if(typeof JSON==="undefined"){b("http://github.com/eligrey/jsandbox/raw/master/min/json2.js")}var a=JSON.stringify,g=JSON.parse,d=function(j){var i=j.data,h={toString:function(){return a(this)}};(typeof i==="string"&&(i=g(i)));h.id=i.id;c(function(){var k=i.data;f.input=i.input;try{switch(i.method){case"eval":h.results=e(k);break;case"exec":b("data:,"+encodeURIComponent(k));break;case"load":b.apply(f,k);break}}catch(l){h.error=l}delete f.input;delete f.onmessage;return h}())};if(f.addEventListener){f.addEventListener("message",d,false)}else{if(f.attachEvent){f.attachEvent("onmessage",d)}}f.window=f;f.Worker=f.addEventListener=f.removeEventListener=f.attachEvent=f.detachEvent=f.importScripts=f.XMLHttpRequest=f.postMessage=f.dispatchEvent=undefined}(self,eval));
